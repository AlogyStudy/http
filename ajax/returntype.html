<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		
		<input type="button" name="" id="" value="test1" onclick="test1()" />
		<input type="button" name="" id="" value="test2" onclick="test2()" />
		<input type="button" name="" id="" value="test3" onclick="test3()" />
		
		
		<script type="text/javascript">
		
			function createXHR() {
				var xhr = null;
				
				if ( window.ActiveXObject ) {
					xhr = new window.ActiveXObject();
				} else if ( XMLHttpRequest ) {
					xhr = new XMLHttpRequest('Microsoft.XMLHTTP');
				}
				return xhr;
			}
			
			// xml
			function test1() {
				
				var xhr = createXHR();
				
				xhr.open('GET', './returntype.php', true);
				
				xhr.onreadystatechange = function () {
					if ( this.readyState == 4 ) {
						var xmldom = this.responseXML;
						console.log( xmldom );
					}
				}
						
				xhr.send(null);		
			}
			
			// 返回普通文本的html代码字符串
			function test2() {

				var xhr = createXHR();
				
				xhr.open('GET', './returnhtml.php', true);
				
				xhr.onreadystatechange = function () {
					
					if ( this.readyState == 4 ) {
						console.log( this.responseText );
					}
					
				}
				
				xhr.send(null);

			}
			
			// json格式字符串对象
			function test3() {
				var xhr = createXHR();
				xhr.open('GET', './returnjson.php', true);
				
				xhr.onreadystatechange = function () {
					
					if ( this.readyState == 4 ) {
						console.log( this.responseText );
					}
					
				}
				
				xhr.send(null);
			}
			
		</script>
	</body>
</html>
